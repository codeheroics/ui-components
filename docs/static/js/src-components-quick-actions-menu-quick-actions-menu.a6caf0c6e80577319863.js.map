{"version":3,"sources":["/home/hagbonon/dev/ui-components/src/atoms/icons/MoreIcon.tsx","/home/hagbonon/dev/ui-components/src/components/quick-actions-menu/QuickActionsMenu.tsx","/home/hagbonon/dev/ui-components/src/components/quick-actions-menu/QuickActionsMenu.mdx","/home/hagbonon/dev/ui-components/src/components/tooltip/helpers.ts","/home/hagbonon/dev/ui-components/src/components/tooltip/Tooltip.tsx"],"names":["MoreIcon","props","SvgWrapper","d","SquareButton","styled","Button","dashGreen00","Wrapper","div","QuickActionsMenu","controllerRef","React","ref","Tooltip","placement","title","tooltipTitle","options","tooltipMaxWidth","nature","onClick","disabled","isDisabled","icon","DropdownMenu","dockingSide","menuMaxHeight","maxMenuHeight","isOpen","containerRef","menuClassName","children","layoutProps","MDXLayout","MDXContent","components","mdxType","parentName","of","__position","__code","__scope","this","Playground","Props","DropdownElement","style","display","flexDirection","justifyContent","height","useState","setIsOpen","e","preventDefault","isMDXComponent","rightTooltipStyle","leftTooltipStyle","bottomTooltipStyle","handleTooltipPosition","assertUnreachable","handleTooltipArrowPosition","displayIfInContainer","outOfContainer","getTooltipBgColorByType","type","validatorGreen","functionalRed02","isTooltipOutOfContainer","elementDimensions","containerDimensions","rect","top","totalHeight","minHeight","left","width","totalWidth","maxWidth","minWidth","maxHeight","removeOutOfScreenPlacement","possibilities","filter","possiblePlacement","TooltipWrapper","span","white","coordinates","tooltipPossiblePlacements","defaultPlacement","onHover","event","target","currentTarget","previousTop","previousLeft","getBoundingRect","positionTooltip","cloneChildren","child","childIndex","onMouseEnter","state","prevProps","prevState","current","getElementDimensions","elementRef","elementIsBefore","containerElement","container","window","getContainerBoundaries","getElementPlacement","isElementOutOfContainerMethod","setState","console","error","childrenWithProps","map"],"mappings":"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","file":"static/js/src-components-quick-actions-menu-quick-actions-menu.c5834caa.js","sourcesContent":["import * as React from 'react';\nimport SvgWrapper from '@ions/icon/wrapper/SvgWrapper';\n\nconst MoreIcon: React.FunctionComponent<\n  import('../../ions/icon/types').IconProps\n> = (props: import('../../ions/icon/types').IconProps): JSX.Element => (\n  <SvgWrapper {...props}>\n    <React.Fragment>\n      <path d='M4 9H6V11H4V9Z' />\n      <path d='M9 9H11V11H9V9Z' />\n      <path d='M14 9H16V11H14V9Z' />\n    </React.Fragment>\n  </SvgWrapper>\n);\n\nexport default MoreIcon;\n","import * as React from 'react';\nimport { Button } from '@atoms';\nimport { DropdownMenu, Tooltip } from '@components';\nimport styled from 'styled-components';\nimport { dashGreen00 } from '@colors';\n\ninterface Props {\n  isOpen: boolean;\n  icon: JSX.Element;\n  onClick: React.MouseEventHandler;\n  tooltipTitle: string;\n  maxMenuHeight?: number;\n  containerRef?: React.RefObject<HTMLElement>;\n  isDisabled?: boolean;\n  menuClassName?: string;\n}\n\nconst SquareButton = styled(Button)`\n  width: 32px;\n  height: 32px;\n  fill: ${dashGreen00};\n`;\n\nconst Wrapper = styled.div`\n  width: 32px;\n  height: 32px;\n  position: relative;\n`;\n\nconst QuickActionsMenu: React.FC<Props> = props => {\n  const controllerRef = React.useRef<HTMLDivElement>(null);\n\n  return (\n    <Wrapper>\n      <div ref={controllerRef}>\n        <Tooltip\n          placement='left'\n          title={props.tooltipTitle}\n          options={{ tooltipMaxWidth: 172 }}\n        >\n          <SquareButton\n            nature='ghost'\n            onClick={props.onClick}\n            disabled={props.isDisabled}\n          >\n            {props.icon}\n          </SquareButton>\n        </Tooltip>\n      </div>\n      <DropdownMenu\n        dockingSide='right'\n        menuMaxHeight={props.maxMenuHeight}\n        isOpen={props.isOpen}\n        controllerRef={controllerRef}\n        containerRef={props.containerRef}\n        menuClassName={props.menuClassName}\n      >\n        {props.children}\n      </DropdownMenu>\n    </Wrapper>\n  );\n};\n\nexport default QuickActionsMenu;\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsx mdx */\nimport { Playground, Props } from 'docz';\nimport Button from '../../atoms/button/Button';\nimport MoreIcon from '../../atoms/icons/MoreIcon';\nimport DropdownElement from '../dropdown/DropdownElement.tsx';\nimport QuickActionsMenu from './QuickActionsMenu';\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h1 {...{\n      \"id\": \"quick-actions-menu\"\n    }}>{`Quick Actions Menu`}</h1>\n    <p>{`Quick action menu is a specific components meant for users to quickly copy\na credential's information like login and password.\nIt is not meant to be used in an other context. If you're looking for customizable dropdown,\ncheck out the `}<a parentName=\"p\" {...{\n        \"href\": \"./src-components-dropdown-dropdown-menu\"\n      }}>{`Dropdown Menu component`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"properties\"\n    }}>{`Properties`}</h2>\n    <Props of={QuickActionsMenu} mdxType=\"Props\" />\n    <h2 {...{\n      \"id\": \"example\"\n    }}>{`Example`}</h2>\n    <Playground __position={1} __code={'() => {\\n  const [isOpen, setIsOpen] = React.useState(false)\\n  const onClick = e => {\\n    e.preventDefault()\\n    setIsOpen(!isOpen)\\n  }\\n  return (\\n    <QuickActionsMenu\\n      icon={<MoreIcon />}\\n      isOpen={isOpen}\\n      onClick={onClick}\\n      tooltipTitle=\\\"Tooltip\\\"\\n    >\\n      <DropdownElement>Copy Password</DropdownElement>\\n      <DropdownElement>Copy Login</DropdownElement>\\n    </QuickActionsMenu>\\n  )\\n}'} __scope={{\n      props: this ? this.props : props,\n      Playground,\n      Props,\n      Button,\n      MoreIcon,\n      DropdownElement,\n      QuickActionsMenu\n    }} style={{\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-around',\n      height: '200px'\n    }} mdxType=\"Playground\">\n  {() => {\n        const [isOpen, setIsOpen] = React.useState(false);\n\n        const onClick = e => {\n          e.preventDefault();\n          setIsOpen(!isOpen);\n        };\n\n        return <QuickActionsMenu icon={<MoreIcon mdxType=\"MoreIcon\" />} isOpen={isOpen} onClick={onClick} tooltipTitle='Tooltip' mdxType=\"QuickActionsMenu\">\n        <DropdownElement mdxType=\"DropdownElement\">Copy Password</DropdownElement>\n        <DropdownElement mdxType=\"DropdownElement\">Copy Login</DropdownElement>\n      </QuickActionsMenu>;\n      }}\n    </Playground>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;","import { dashGreen00, functionalRed02, validatorGreen } from '@colors';\nimport { assertUnreachable } from '@utility/helpers';\nimport { WrapperProps } from './Tooltip';\nimport { Placement, TooltipType } from './types';\nimport { IsElementOutOfContainerMethod } from '@utility/positionCompute';\nexport const tooltipMargin = 10;\nconst rightTooltipStyle = `\n  margin-bottom: 0;\n  bottom: auto;\n  transform: translate(0, -50%);\n  left: 100%;\n  top: 50%;\n  margin-left: ${tooltipMargin}px;\n`;\n\nconst leftTooltipStyle = `\n  margin-bottom: 0;\n  bottom: auto;\n  transform: translate(0, -50%);\n  left: auto;\n  right: 100%;\n  top: 50%;\n  margin-right: ${tooltipMargin}px;\n`;\n\nconst topTooltipStyle = `\n  margin-bottom: 10px;\n  bottom: 100%;\n  left: 50%;\n`;\n\nconst bottomTooltipStyle = `\n  margin-bottom: 0;\n  bottom: auto;\n  left: 50%;\n  top: 100%;\n  margin-top: ${tooltipMargin}px;\n`;\n\nconst topTooltipArrowStyle = `\n  margin-bottom: 5px;\n  bottom: 100%;\n  transform: translate(-50%, 0);\n  left: 50%;\n`;\n\nconst rightTooltipArrowStyle = `\n  margin-bottom: 0;\n  bottom: auto;\n  transform: rotate(90deg) translate(0, -50%);\n  left: 100%;\n  top: 50%;\n  margin-left: -2px;\n  margin-top: -4px;\n`;\n\nconst leftTooltipArrowStyle = `\n  margin-bottom: 0;\n  bottom: auto;\n  transform: rotate(-90deg) translate(0, -50%);\n  left: auto;\n  right: 100%;\n  top: 50%;\n  margin-right: -2px;\n  margin-top: -4px;\n`;\n\nconst bottomTooltipArrowStyle = `\n  margin-bottom: 0;\n  bottom: auto;\n  transform: rotate(180deg) translate(-50%, 0);\n  top: 100%;\n  left: unset;\n  right: 50%\n  margin-top: 5px;\n`;\n\nexport const handleTooltipPosition = ({ placement }: WrapperProps) => {\n  switch (placement) {\n    case 'top':\n      return topTooltipStyle;\n    case 'right':\n      return rightTooltipStyle;\n    case 'left':\n      return leftTooltipStyle;\n    case 'bottom':\n      return bottomTooltipStyle;\n    default:\n      return assertUnreachable(placement);\n  }\n};\n\nexport const handleTooltipArrowPosition = ({ placement }: WrapperProps) => {\n  switch (placement) {\n    case 'top':\n      return topTooltipArrowStyle;\n    case 'right':\n      return rightTooltipArrowStyle;\n    case 'left':\n      return leftTooltipArrowStyle;\n    case 'bottom':\n      return bottomTooltipArrowStyle;\n    default:\n      return assertUnreachable(placement);\n  }\n};\n\nexport const displayIfInContainer = ({ outOfContainer }: WrapperProps) => {\n  return !outOfContainer\n    ? `visibility: visible;\n       opacity: 1;`\n    : ``;\n};\n\nexport const getTooltipBgColorByType = (type: TooltipType) => {\n  switch (type) {\n    case 'info':\n      return dashGreen00;\n    case 'success':\n      return validatorGreen;\n    case 'error':\n      return functionalRed02;\n    default:\n      return assertUnreachable(type);\n  }\n};\n\nexport const isTooltipOutOfContainer: IsElementOutOfContainerMethod<\n  Placement\n> = ({ elementDimensions, containerDimensions, placement }) => {\n  switch (placement) {\n    case 'top':\n      return (\n        elementDimensions.rect.top - elementDimensions.totalHeight <\n          containerDimensions.minHeight ||\n        elementDimensions.rect.left +\n          elementDimensions.rect.width / 2 +\n          elementDimensions.totalWidth / 2 >\n          containerDimensions.maxWidth ||\n        elementDimensions.rect.left +\n          elementDimensions.rect.width / 2 -\n          elementDimensions.totalWidth / 2 <\n          containerDimensions.minWidth\n      );\n    case 'bottom':\n      return (\n        elementDimensions.rect.top +\n          elementDimensions.rect.height +\n          elementDimensions.totalHeight >\n          containerDimensions.maxHeight ||\n        elementDimensions.rect.left +\n          elementDimensions.rect.width / 2 +\n          elementDimensions.totalWidth / 2 >\n          containerDimensions.maxWidth ||\n        elementDimensions.rect.left +\n          elementDimensions.rect.width / 2 -\n          elementDimensions.totalWidth / 2 <\n          containerDimensions.minWidth\n      );\n    case 'right':\n      return (\n        elementDimensions.rect.left +\n          elementDimensions.rect.width +\n          elementDimensions.totalWidth >\n          containerDimensions.maxWidth ||\n        elementDimensions.rect.top +\n          elementDimensions.rect.height / 2 -\n          elementDimensions.totalHeight / 2 <\n          containerDimensions.minHeight ||\n        elementDimensions.rect.top +\n          elementDimensions.rect.height / 2 +\n          elementDimensions.totalHeight / 2 >\n          containerDimensions.maxHeight\n      );\n    case 'left':\n      return (\n        elementDimensions.rect.left - elementDimensions.totalWidth <\n          containerDimensions.minWidth ||\n        elementDimensions.rect.top +\n          elementDimensions.rect.height / 2 -\n          elementDimensions.totalHeight / 2 <\n          containerDimensions.minHeight ||\n        elementDimensions.rect.top +\n          elementDimensions.rect.height / 2 +\n          elementDimensions.totalHeight / 2 >\n          containerDimensions.maxHeight\n      );\n\n    default:\n      assertUnreachable(placement);\n      return true;\n  }\n};\n\nexport const removeOutOfScreenPlacement = (\n  possibilities: Placement[],\n  placement: Placement\n) => {\n  return possibilities.filter(\n    possiblePlacement => possiblePlacement !== placement\n  );\n};\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { white } from '@colors';\nimport { Placement } from '@components/tooltip/types';\nimport {\n  displayIfInContainer,\n  getTooltipBgColorByType,\n  handleTooltipArrowPosition,\n  handleTooltipPosition,\n  isTooltipOutOfContainer\n} from '@components/tooltip/helpers';\nimport {\n  getBoundingRect,\n  getContainerBoundaries,\n  getElementDimensions,\n  getElementPlacement\n} from '@utility/positionCompute';\n\nexport interface Props {\n  title: string;\n  /**\n   * The position of the tooltip\n   * @default top\n   */\n  placement?: 'right' | 'left' | 'top' | 'bottom';\n  /**\n   * A type that defines the tooltip color\n   * @default info\n   */\n  type?: 'info' | 'success' | 'error';\n  /**\n   * Extra options\n   * @default {tooltipMaxWidth: 300 (in px), container: window}\n   */\n  options?: {\n    /**\n     * A max width for the tooltip\n     */\n    tooltipMaxWidth?: number;\n    /**\n     * An element as a container (if not the default window)\n     */\n    container?: React.RefObject<HTMLElement>;\n  };\n}\n\ninterface State {\n  outOfContainer: boolean;\n  placement: Placement | null;\n}\n\nexport type WrapperProps = Omit<Required<Props>, 'title'> & {\n  outOfContainer: boolean;\n};\n\nconst TooltipWrapper = styled.span<WrapperProps>`\n  > :first-child:hover {\n    position: relative;\n  }\n\n  > :first-child::before {\n    font-family: inherit;\n    visibility: hidden;\n    opacity: 0;\n    font-size: 0.75rem;\n    line-height: 1.25;\n    display: inline-block;\n    box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.2);\n    border-radius: 4px;\n    padding: 8px;\n    background-color: ${({ type }: WrapperProps) =>\n      getTooltipBgColorByType(type)};\n    content: attr(data-tooltip);\n    color: ${white};\n    position: absolute;\n    max-width: ${({ options }: WrapperProps) =>\n      options.tooltipMaxWidth ? `${options.tooltipMaxWidth}px` : '300px'};\n    width: max-content;\n    @supports (-ms-ime-align: auto) {\n      min-width: 50px;\n    }\n    word-wrap: break-word;\n    transform: translate(-50%, 0);\n    text-align: center;\n    z-index: 1001;\n    transition: opacity 0.1s ease-in-out;\n    ${handleTooltipPosition}\n  }\n\n  > :first-child:hover::before {\n    ${displayIfInContainer}\n  }\n\n  > :first-child::after {\n    display: inline-block;\n    visibility: hidden;\n    opacity: 0;\n    width: 0;\n    height: 0;\n    border-left: 7px solid transparent;\n    border-right: 7px solid transparent;\n    border-top: 7px solid\n      ${({ type }: WrapperProps) => getTooltipBgColorByType(type)};\n    position: absolute;\n    content: '';\n    z-index: 1002;\n    transition: opacity 0.1s ease-in-out;\n    ${handleTooltipArrowPosition}\n  }\n\n  > :first-child:hover::after {\n    ${displayIfInContainer}\n  }\n`;\n\nclass Tooltip extends React.PureComponent<Props, State> {\n  private ref: React.RefObject<HTMLElement> = React.createRef();\n  private coordinates: { top: number | null; left: number | null };\n  private readonly tooltipPossiblePlacements: Placement[] = [];\n  private readonly defaultPlacement: Placement;\n\n  public constructor(props: Props) {\n    super(props);\n    this.defaultPlacement = 'top';\n    this.state = {\n      placement: props.placement || this.defaultPlacement,\n      outOfContainer: false\n    };\n    this.tooltipPossiblePlacements = ['top', 'left', 'right', 'bottom'];\n    this.coordinates = {\n      top: null,\n      left: null\n    };\n  }\n\n  public componentDidUpdate(prevProps: Props, prevState: State): void {\n    // if state is the same (the update came from prop change) do calculate else if state changed (update caused by new positioning) do not calculate again\n    if (prevState.placement !== this.state.placement || !this.ref) {\n      return;\n    }\n    this.positionTooltip();\n  }\n\n  private onHover = (event: React.MouseEvent<HTMLElement>) => {\n    const target = event.currentTarget;\n    const { top: previousTop, left: previousLeft } = this.coordinates;\n    const { top, left } = getBoundingRect(target);\n\n    if (top === previousTop && left === previousLeft) {\n      return;\n    }\n\n    this.coordinates = { ...this.coordinates, ...{ top, left } };\n    this.positionTooltip();\n  };\n\n  private positionTooltip() {\n    if (!this.ref.current) {\n      return;\n    }\n    const isBeforePseudoElement = true;\n    const elementDimensions = getElementDimensions({\n      elementRef: this.ref,\n      elementIsBefore: isBeforePseudoElement\n    });\n\n    const containerElement =\n      (this.props.options &&\n        this.props.options.container &&\n        this.props.options.container.current) ||\n      window;\n    const containerDimensions = getContainerBoundaries(containerElement);\n    try {\n      const placement = getElementPlacement({\n        isElementOutOfContainerMethod: isTooltipOutOfContainer,\n        placement: this.props.placement || this.defaultPlacement,\n        possibilities: this.tooltipPossiblePlacements,\n        elementDimensions,\n        containerDimensions\n      });\n      this.setState({ placement: placement });\n    } catch (e) {\n      this.setState({ outOfContainer: true });\n      console.error('Error while computing Tooltip position', e);\n    }\n  }\n\n  private cloneChildren = (title: string) => (\n    child: React.ReactNode,\n    childIndex: number\n  ) => {\n    if (React.isValidElement(child)) {\n      return React.cloneElement(child, {\n        'data-tooltip': title,\n        onMouseEnter: this.onHover,\n        ref: childIndex === 0 && this.ref\n      });\n    }\n  };\n\n  public render() {\n    const {\n      title = 'Default',\n      type = 'info',\n      children,\n      options = {}\n    } = this.props;\n    const childrenWithProps = React.Children.map(\n      <div>{children}</div>, // Wrapping the children with a div to make sure that the tooltip will be attached to this div so any state modification of the initial children (disabled, etc..) won't affect the style of the tooltip\n      this.cloneChildren(title)\n    );\n\n    return (\n      <TooltipWrapper\n        type={type}\n        placement={this.state.placement || this.defaultPlacement}\n        outOfContainer={this.state.outOfContainer}\n        options={options}\n      >\n        {childrenWithProps}\n      </TooltipWrapper>\n    );\n  }\n}\n\nexport default Tooltip;\n"],"sourceRoot":""}